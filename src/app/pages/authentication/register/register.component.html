<nb-layout>
  <nb-layout-column>
    <nb-card>
      <nb-card-body>
        <div class="containing-box">
          <h1 id="title" class="title">Register</h1>
          <p class="sub-title">Create new account</p>

          <form (ngSubmit)="register()" #form="ngForm" aria-labelledby="title">
            <div class="form-control-group">
              <label class="label" for="input-email">Email address:</label>

              <input
                nbInput
                fullWidth
                [(ngModel)]="user.email"
                #email="ngModel"
                name="email"
                id="input-email"
                pattern=".+@.+\..+"
                placeholder="Email address"
                fieldSize="large"
                autofocus
                [status]="
                  email.dirty ? (email.invalid ? 'danger' : 'success') : 'basic'
                "
                [required]="true"
                [attr.aria-invalid]="
                  email.invalid && email.touched ? true : null
                "
              />
              <p
                class="error-message"
                *ngIf="email.invalid && password.touched"
              >
                {{ email.value }} {{ email.invalid }}
              </p>
            </div>

            <div class="form-control-group">
              <span class="label-with-link">
                <label class="label" for="input-password">Password: (readonly)</label>
              </span>
              <input
                nbInput
                fullWidth
                [(ngModel)]="user.password"
                #password="ngModel"
                name="password"
                type="text"
                id="input-password"
                placeholder="Password"
                fieldSize="large"
                readonly="true"
                [status]="
                  password.dirty
                    ? password.invalid
                      ? 'danger'
                      : 'success'
                    : 'basic'
                "
                [required]="true"
                [minlength]="6"
                [maxlength]="32"
              />
            </div>
            <div class="selection-input">
              <label class="label">Account type:</label>
              <nb-select placeholder="type" [(selected)]="user.type" required ngModel  #type="ngModel" name="type">
                <nb-option value="admin">Admin</nb-option>
                <nb-option value="investor">Investor</nb-option>
                <nb-option value="employee">Employee</nb-option>
                <nb-option value="dataEntry">Data entry</nb-option>
              </nb-select>
            </div>
            <button
              nbButton
              fullWidth
              status="primary"
              size="large"
              [disabled]="!form.valid"
              [class.btn-pulse]="form.valid"
            >
              Register
            </button>
          </form>
        </div>
      </nb-card-body>
    </nb-card>
  </nb-layout-column>
</nb-layout>
