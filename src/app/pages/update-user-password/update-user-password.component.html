<nb-layout>
  <nb-layout-column>
    <nb-card>
      <nb-card-body>
        <div class="containing-box">
          <h1 id="title" class="title">Update</h1>
          <p class="sub-title">Update a user's password</p>

          <form (ngSubmit)="update()" #form="ngForm" aria-labelledby="title">
            <div class="form-control-group">
              <label class="label" for="input-email">Email address:</label>

              <input
                nbInput
                fullWidth
                [(ngModel)]="theEmail"
                #email="ngModel"
                name="email"
                id="input-email"
                pattern=".+@.+\..+"
                placeholder="Email address"
                fieldSize="large"
                autofocus
                [status]="
                  email.dirty ? (email.invalid ? 'danger' : 'success') : 'basic'
                "
                [required]="true"
                [attr.aria-invalid]="
                  email.invalid && email.touched ? true : null
                "
              />
            <p class="error-message" *ngIf="email.invalid && password.touched ">
              {{email.value}} {{email.invalid}}
            </p>
            </div>

            <div class="form-control-group">
              <span class="label-with-link">
                <label class="label" for="input-password">New Password:</label>

              </span>
              <input
                nbInput
                fullWidth
                [(ngModel)]="newPassword"
                #password="ngModel"
                name="password"
                type="password"
                id="input-password"
                placeholder="New Password"
                fieldSize="large"
                [status]="
                  password.dirty
                    ? password.invalid
                      ? 'danger'
                      : 'success'
                    : 'basic'
                "
                [required]="true"
                [minlength]="6"
                [attr.aria-invalid]="
                  password.invalid && password.touched ? true : null
                "
              />
              <p class="error-message" *ngIf="password.invalid && password.touched">
                password is less than 6 characters
              </p>
            </div>

            <button
              nbButton
              fullWidth
              status="primary"
              size="large"
              [disabled]="!form.valid"
              [class.btn-pulse]=""
            >
              Update
            </button>
          </form>


        </div>
      </nb-card-body>
    </nb-card>
  </nb-layout-column>
</nb-layout>
